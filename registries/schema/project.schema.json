{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://cybercube.software/schemas/project.schema.json",
  "title": "CYBERCUBE Project Registry",
  "description": "Project records linked to CC-PIDs, products, and WOE items. Source: 5.1 + 1.5",
  "type": "array",
  "items": {
    "type": "object",
    "required": ["ccpid", "name", "domainCode", "classification", "tracker", "status", "createdAt"],
    "additionalProperties": false,
    "properties": {
      "ccpid": {
        "type": "string",
        "pattern": "^PRJ-[A-HJ-NP-Z2-9]{6,8}-[A-HJ-NP-Z2-9]$",
        "description": "CC-PID generated by PublicIdService"
      },
      "name": {
        "type": "string",
        "minLength": 1,
        "description": "Human-readable project name"
      },
      "productId": {
        "type": ["string", "null"],
        "pattern": "^PRD-[0-9]{3}$",
        "description": "Linked product record (null if not product-bound)"
      },
      "domainCode": {
        "type": "string",
        "pattern": "^[A-Z0-9]{2,3}-[A-Z0-9]{2,3}$",
        "description": "Artifact domain code (e.g., WA-SS, AP-RS)"
      },
      "classification": {
        "type": "string",
        "enum": ["One-off", "Product", "RSM"],
        "description": "Governance classification"
      },
      "woePrefix": {
        "type": ["string", "null"],
        "pattern": "^[A-Z0-9]{2,3}-[A-Z0-9]{2,3}$",
        "description": "WOE prefix used in tracker (usually same as domainCode)"
      },
      "tracker": {
        "type": "string",
        "enum": ["Jira", "GitHub", "Linear"],
        "description": "Issue tracker system"
      },
      "status": {
        "type": "string",
        "enum": ["Active", "Complete", "Archived"],
        "description": "Project status"
      },
      "createdAt": {
        "type": "string",
        "format": "date",
        "description": "ISO 8601 date when project was registered"
      }
    }
  },
  "uniqueItems": true
}
